import{j as e,c as s,u as j,L as v,a as f,r as d,T as N,b as k,d as w,P as y,A as b}from"./index-yA6TTcye.js";const A="_menu__header_1bmgf_1",E="_menu__products_1bmgf_15",L="_error_1bmgf_49",_={menu__header:A,menu__products:E,"not-items":"_not-items_1bmgf_35",error:L},S="_search_1y771_1",C="_input_1y771_35",m={search:S,input:C};function D({...t}){return e.jsxs("div",{className:s(m.search),children:[e.jsx("img",{src:"/DeliveryApp/Search.svg",alt:"Поиск"}),e.jsx("input",{className:s(m.input),type:"text",placeholder:"Введите блюдо или состав",...t})]})}const P="_ruble_1kx6w_99",$="_description__title_1kx6w_219",F="_description__composition_1kx6w_231",c={"link-product-card":"_link-product-card_1kx6w_1","product-card":"_product-card_1kx6w_11","product-card__image":"_product-card__image_1kx6w_37","product-card__price":"_product-card__price_1kx6w_67",ruble:P,"add-cart":"_add-cart_1kx6w_109","product-card__rating":"_product-card__rating_1kx6w_159","product-card__description":"_product-card__description_1kx6w_199",description__title:$,description__composition:F};function M(t){const r=j(),a=i=>{i.preventDefault(),r(f.add(t.id))};return e.jsx(v,{to:`/product/${t.id}`,className:s(c["link-product-card"]),children:e.jsxs("div",{className:s(c["product-card"]),children:[e.jsx("div",{className:s(c["product-card__image"]),children:e.jsx("img",{src:t.image,alt:"Фото блюда"})}),e.jsxs("div",{className:s(c["product-card__price"]),children:[t.price,e.jsx("span",{className:s(c.ruble),children:"₽"})]}),e.jsxs("div",{className:s(c["product-card__rating"]),children:[t.rating,e.jsx("img",{src:"/DeliveryApp/Rating.svg",alt:"Оценка"})]}),e.jsx("button",{className:s(c["add-cart"]),onClick:a,children:e.jsx("img",{src:"/DeliveryApp/CartButton.svg",alt:"Добавить в корзину"})}),e.jsxs("div",{className:s(c["product-card__description"]),children:[e.jsx("h2",{className:s(c.description__title),children:t.name}),e.jsx("p",{className:s(c.description__composition),children:t.ingredients})]})]})})}function R({products:t}){return t.map(r=>e.jsx(M,{id:r.id,name:r.name,ingredients:r.ingredients.join(", "),image:r.image,price:r.price,rating:r.rating},r.id))}function T(){const[t,r]=d.useState([]),[a,i]=d.useState(!1),[o,p]=d.useState(),[l,x]=d.useState(),g=async u=>{try{i(!0);const{data:n}=await w.get(`${y}/products`,{params:{name:u}});r(n),i(!1)}catch(n){console.error(n),n instanceof b&&p(n.message),i(!1);return}},h=u=>{x(u.target.value),console.log(l)};return d.useEffect(()=>{g(l)},[l]),e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:s(_.menu__header),children:[e.jsx(N,{children:"Меню"}),e.jsx(D,{onChange:h})]}),o&&e.jsx("div",{className:s(_.error),children:o}),!a&&t.length>0&&e.jsx(e.Fragment,{children:e.jsx("div",{className:s(_.menu__products),children:e.jsx(R,{products:t})})}),a&&e.jsx(k,{}),!a&&!o&&t.length==0&&e.jsx("div",{className:s(_["not-items"]),children:"Ничего не нашлось"})]})}export{T as Menu,T as default};
