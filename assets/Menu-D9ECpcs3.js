import{j as s,c as e,u as j,L as f,a as N,r as d,T as v,b as k,d as b,P as w,A as y}from"./index-rQr_Uj5q.js";const E="_menu__header_1bmgf_1",L="_menu__products_1bmgf_15",S="_error_1bmgf_49",_={menu__header:E,menu__products:L,"not-items":"_not-items_1bmgf_35",error:S},C="_search_1y771_1",P="_input_1y771_35",m={search:C,input:P};function $({...t}){return s.jsxs("div",{className:e(m.search),children:[s.jsx("img",{src:"/public/Search.svg",alt:"Поиск"}),s.jsx("input",{className:e(m.input),type:"text",placeholder:"Введите блюдо или состав",...t})]})}const A="_ruble_1kx6w_99",F="_description__title_1kx6w_219",M="_description__composition_1kx6w_231",r={"link-product-card":"_link-product-card_1kx6w_1","product-card":"_product-card_1kx6w_11","product-card__image":"_product-card__image_1kx6w_37","product-card__price":"_product-card__price_1kx6w_67",ruble:A,"add-cart":"_add-cart_1kx6w_109","product-card__rating":"_product-card__rating_1kx6w_159","product-card__description":"_product-card__description_1kx6w_199",description__title:F,description__composition:M};function R(t){const c=j(),a=i=>{i.preventDefault(),c(N.add(t.id))};return s.jsx(f,{to:`/product/${t.id}`,className:e(r["link-product-card"]),children:s.jsxs("div",{className:e(r["product-card"]),children:[s.jsx("div",{className:e(r["product-card__image"]),children:s.jsx("img",{src:t.image,alt:"Фото блюда"})}),s.jsxs("div",{className:e(r["product-card__price"]),children:[t.price,s.jsx("span",{className:e(r.ruble),children:"₽"})]}),s.jsxs("div",{className:e(r["product-card__rating"]),children:[t.rating,s.jsx("img",{src:"/public/Rating.svg",alt:"Оценка"})]}),s.jsx("button",{className:e(r["add-cart"]),onClick:a,children:s.jsx("img",{src:"/public/CartButton.svg",alt:"Добавить в корзину"})}),s.jsxs("div",{className:e(r["product-card__description"]),children:[s.jsx("h2",{className:e(r.description__title),children:t.name}),s.jsx("p",{className:e(r.description__composition),children:t.ingredients})]})]})})}function D({products:t}){return t.map(c=>s.jsx(R,{id:c.id,name:c.name,ingredients:c.ingredients.join(", "),image:c.image,price:c.price,rating:c.rating},c.id))}function T(){const[t,c]=d.useState([]),[a,i]=d.useState(!1),[o,p]=d.useState(),[u,x]=d.useState(),g=async l=>{try{i(!0);const{data:n}=await b.get(`${w}/products`,{params:{name:l}});c(n),i(!1)}catch(n){console.error(n),n instanceof y&&p(n.message),i(!1);return}},h=l=>{x(l.target.value),console.log(u)};return d.useEffect(()=>{g(u)},[u]),s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:e(_.menu__header),children:[s.jsx(v,{children:"Меню"}),s.jsx($,{onChange:h})]}),o&&s.jsx("div",{className:e(_.error),children:o}),!a&&t.length>0&&s.jsx(s.Fragment,{children:s.jsx("div",{className:e(_.menu__products),children:s.jsx(D,{products:t})})}),a&&s.jsx(k,{}),!a&&!o&&t.length==0&&s.jsx("div",{className:e(_["not-items"]),children:"Ничего не нашлось"})]})}export{T as Menu,T as default};
